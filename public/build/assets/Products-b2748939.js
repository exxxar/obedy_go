import{h as v,k,o as s,d as a,l as C,a as l,q as _,j as m,b as p,F as u,e as g,L as y,n as w,t as $}from"./app-a9be14f8.js";import{_ as b}from"./PageTitle-eb886ccd.js";const D={key:0,class:"search-icon"},L={alt:"Поиск"},T=["value"],R={key:2,class:"search-check-group"},S={class:"form-check"},B=["checked"],j=l("label",{class:"form-check-label",for:"flexRadioDefault1"},"по названиям",-1),z={class:"form-check"},F=["checked"],N=l("label",{class:"form-check-label",for:"flexRadioDefault2"},"по ингридиентам",-1),O={__name:"Search",props:{filteredText:{type:String,default:""},filteredCategory:{type:String,default:"name"}},emits:["update:filteredText","update:filteredCategory"],setup(o,{emit:c}){const r=o,n=v(!1),d=t=>{c("update:filteredText",t.target.value)},f=t=>{c("update:filteredCategory",t.target.value)},h=()=>{(r.filteredText===""||r.filteredText.length===0)&&(n.value=!1,c("update:filteredCategory","name"))};return(t,i)=>{const e=k("lazy");return s(),a("div",{class:"search",onMouseenter:i[0]||(i[0]=x=>n.value=!0),onMouseleave:h},[n.value?_("",!0):(s(),a("div",D,[C(l("img",L,null,512),[[e,"/images/search.png"]])])),n.value?(s(),a("input",{key:1,type:"search",class:"search-input",value:o.filteredText,onInput:d,placeholder:"Быстрый поиск по продуктам..."},null,40,T)):_("",!0),n.value?(s(),a("div",R,[l("div",S,[l("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",value:"name",checked:o.filteredCategory==="name",onChange:f},null,40,B),j]),l("div",z,[l("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2",value:"ingredients",checked:o.filteredCategory==="ingredients",onChange:f},null,40,F),N])])):_("",!0)],32)}}},V={class:"container tab-content pb-3"},A={class:"row"},I={class:"col-sm-6 col-md-6 col-lg-4 col-12"},M=l("h3",{class:"mt-4 mb-2 text-uppercase text-white"},"А также можно добавить к заказу....",-1),P={class:"row ingrs pb-2 mt-2"},U={class:"col-12 d-flex flex-wrap justify-content-start"},q=["onClick"],E={class:"row"},G={class:"col-sm-6 col-md-6 col-lg-4 col-12"},K={__name:"Products",props:{products:{type:Array,default:[]},title:{type:String,default:null},categories:{type:Array,default:[]}},setup(o){const c=o,r=v(""),n=v(1),d=v("name"),f=m(()=>r.value===""?c.products:d.value==="name"?c.products.filter(t=>t.title.toLowerCase().indexOf(r.value.toLowerCase())!==-1||(t.description?t.description.toLowerCase().indexOf(r.value.toLowerCase())!==-1:!1)):c.products.filter(t=>t.positions.map(i=>i.title).join(", ").toLowerCase().indexOf(r.value.toLowerCase())!==-1)),h=m(()=>c.categories.find(t=>t.id===n.value).products);return(t,i)=>(s(),a(u,null,[p(b,{title:o.title},null,8,["title"]),l("div",V,[p(O,{"filtered-text":r.value,"onUpdate:filteredText":i[0]||(i[0]=e=>r.value=e),"filtered-category":d.value,"onUpdate:filteredCategory":i[1]||(i[1]=e=>d.value=e)},null,8,["filtered-text","filtered-category"]),l("div",A,[(s(!0),a(u,null,g(f.value,e=>(s(),a("div",I,[p(y,{product:e,week:e.is_week},null,8,["product","week"])]))),256))]),o.title===null?(s(),a(u,{key:0},[M,l("div",P,[l("div",U,[(s(!0),a(u,null,g(o.categories,e=>(s(),a("p",{class:w(n.value===e.id?"active":""),onClick:x=>n.value===e.id},"#"+$(e.title),11,q))),256))])]),l("div",E,[(s(!0),a(u,null,g(h.value,e=>(s(),a("div",G,[p(y,{product:e},null,8,["product"])]))),256))])],64)):_("",!0)])],64))}};export{K as default};
