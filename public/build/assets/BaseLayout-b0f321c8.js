import{B as ae,r as W,d as V,O as G,s as T,o as n,h as i,b as t,F as R,i as U,n as B,u as f,q as M,t as C,C as ce,D as Ee,E as Oe,G as Ve,H as Ie,g as F,P as Me,I as Re,J as Pe,K as Se,_ as K,L as Ae,M as Te,N as Ue,Z as Le,Q as Be,T as je,R as De,S as ze,U as Ne,V as Fe,W as qe,X as Je,Y as We,$ as q,f as Y,x as ee,k,m as ne,a0 as Q,A as oe,c as L,w as S,l as x,y as pe,j as J,a1 as re,e as se,v as be,a2 as ye,z as Qe,a3 as ke,a4 as Xe,a5 as He}from"./app-8624114e.js";import{_ as Ke}from"./_plugin-vue_export-helper-c27b6911.js";const me=ae("main",()=>{const e=W([{partId:1,title:"Стандарт",image:"/images/logo_obed_go.jpg",slug:"standard"},{partId:2,title:"Экспресс",image:"/images/logo_obed_go.jpg",slug:"express"},{partId:3,title:"Премиум",image:"/images/logo_obed_go.jpg",slug:"premium"},{partId:4,title:"Собери сам",image:"/images/logo_obed_go.jpg",slug:"self"},{partId:5,title:"Рецепты",image:"/images/logo_obed_go.jpg",slug:"special"}]),s=V(0);function o(d=!0){if(s.value===0){s.value=1;return}d?s.value===5?s.value=1:s.value++:s.value===1?s.value=5:s.value--}function a(){if(s.value===0){G.get(route("main"));return}let d=e.find(u=>u.partId===s.value).slug??"";if(d==="self"){G.get(route("self"));return}if(d==="special"){G.get(route("special"));return}G.get(route("products",d))}return{foodParts:e,part:s,changePosition:o,selectPart:a}}),Ge={class:"container upper-menu position-fixed top-0 end-0 start-0 d-none d-md-block z-1"},Ze={class:"row justify-content-between"},Ye={class:"col-6 col-md-3 px-2 w--20"},et=["onClick"],tt=["src"],st={__name:"TopMenu",setup(e){const{foodParts:s,part:o}=T(me());return(a,d)=>(n(),i("div",Ge,[t("div",Ze,[(n(!0),i(R,null,U(f(s),u=>(n(),i("div",Ye,[t("div",{class:B("item-tab "+(f(o)===u.partId?"active":"")),onClick:l=>o.value=u.partId},[t("h3",null,[t("img",{src:u.image,alt:""},null,8,tt),M(C(u.title),1)])],10,et)]))),256))])]))}};ce.add(Ee);ce.add(Oe);ce.add(Ve);Ie.watch();var _e;const ot=((_e=window.document.getElementsByTagName("title")[0])==null?void 0:_e.innerText)||"Laravel",j=We,X=Je;window.axios=F;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Pusher=Me;window.Echo=new Re({broadcaster:"pusher",key:"37f1cfbd4bda023198c9",cluster:"eu",forceTLS:!0});const A=(e,s="success")=>{qe().notify({group:"info",type:s,title:"Оповещение ОбедыGO",text:e})},at={preLoad:1.3,error:"/images/logo_obed_go.jpg",loading:"/images/logo_obed_go.jpg",attempt:1};Pe({title:()=>`${ot}`,resolve:e=>Se(`./Pages/${e}.vue`,Object.assign({"./Pages/Chats.vue":()=>K(()=>import("./Chats-f972dcb6.js"),["assets/Chats-f972dcb6.js","assets/app-8624114e.js","assets/app-d207c2ed.css","assets/_plugin-vue_export-helper-c27b6911.js","assets/Chats-5ff92cd5.css"]),"./Pages/Main.vue":()=>K(()=>import("./Main-cd07b5d5.js"),["assets/Main-cd07b5d5.js","assets/app-8624114e.js","assets/app-d207c2ed.css","assets/_plugin-vue_export-helper-c27b6911.js"]),"./Pages/Products.vue":()=>K(()=>import("./Products-acd3401b.js"),["assets/Products-acd3401b.js","assets/app-8624114e.js","assets/app-d207c2ed.css","assets/_plugin-vue_export-helper-c27b6911.js"]),"./Pages/Self.vue":()=>K(()=>import("./Self-59f95f8f.js"),["assets/Self-59f95f8f.js","assets/app-8624114e.js","assets/app-d207c2ed.css","assets/_plugin-vue_export-helper-c27b6911.js"]),"./Pages/Specialists.vue":()=>K(()=>import("./Specialists-5d5987c5.js"),["assets/Specialists-5d5987c5.js","assets/app-8624114e.js","assets/app-d207c2ed.css","assets/_plugin-vue_export-helper-c27b6911.js"]),"./Pages/Test.vue":()=>K(()=>import("./Test-032a0731.js"),["assets/Test-032a0731.js","assets/_plugin-vue_export-helper-c27b6911.js"])})),setup({el:e,App:s,props:o,plugin:a}){return Ae({render:()=>Te(s,o)}).use(Ue,Le).use(a).use(Be()).use(je,at).use(De).use(ze).component("v-select",Ne).mount(e)}}).then(()=>{Fe.init({color:"#4B5563"})});const H=ae("userStore",()=>{const e=window.localStorage.getItem("user")===null?W({id:0,name:"",phone:"",addresses:[],isAuthorized:!1}):W(JSON.parse(window.localStorage.getItem("user"))),s=Z();q(e,r=>{localStorage.setItem("user",JSON.stringify(e))}),q(e.phone,(r,c)=>{r&&e.phone.replace(/D/,"")});async function o(){await F.post(route("register",e)).then(r=>{e.isAuthorized=!0,A("Вы успешно зарегистрировались!")}).catch(r=>{A("Произошла ошибка при регистрации","error")})}async function a(r){await F.post(route("login",r)).then(c=>(l(c.data),window.axios.defaults.headers.common["X-CSRF-TOKEN"]=c.data.token,A("Вы успешно вошли в аккаунт!"),Promise.resolve(c))).catch(c=>Promise.reject(c))}async function d(){await F.post(route("logout")).then(r=>{e.isAuthorized=!1,window.axios.defaults.headers.common["X-CSRF-TOKEN"]=r.data.token,A("Вы успешно вышли из аккаунта!")}).catch(r=>{e.isAuthorized=!1})}async function u(){await F.get(route("user")).then(r=>{r.data.user.user===null?e.isAuthorized=!1:l(r.data.user),window.axios.defaults.headers.common["X-CSRF-TOKEN"]=r.data.token})}function l(r){e.name=r.user.name,e.phone=r.user.phone,e.addresses=r.user.addresses,e.isAuthorized=!0,s.addToCartFromBD(r.cart)}async function g(){await F.post(route("resend.code"),{phone:e.phone}).then(r=>(A("Код отправлен на ваш номера телефона"),Promise.resolve(r))).catch(r=>{A("Произошла ошибка при отправке кода","error")})}function $(){return e}return{user:e,register:o,login:a,logout:d,getUser:u,sendCode:g,dataUser:$}}),Z=ae("cart",()=>{const e=window.localStorage.getItem("cart_items")===null?V([]):V(JSON.parse(window.localStorage.getItem("cart_items"))),s=Y(h=>e.value.find(p=>p.product.id===h)??null),o=H(),a=Y(()=>{if(e===null||e.value.length===0)return 0;let h=0;return e.value.forEach(p=>{h+=g(p)}),h}),d=Y(()=>{if(e===null||e.value.length===0)return 0;let h=0;return e.value.forEach(p=>{h+=p.product.price*g(p)}),h}),u=Y(()=>{if(e===null||e.value.length===0)return 0;let h=0;return e.value.forEach(p=>{p.product.weight>0&&(h+=p.product.weight*g(p)),p.product.weight===0&&p.product.positions.length>0&&p.product.positions.forEach(m=>{h+=m.weight})}),h});q(a,h=>{localStorage.setItem("cart_items",JSON.stringify(e.value))});function l(h){let p=e.value.find(m=>m.product.id===h);return p?g(p):0}function g(h){return h.users.reduce((p,m)=>p+parseInt(m.quantity),0)}const $=Y(()=>{let h=o.dataUser();return e.value.find(p=>!!p.users.find(_=>_.phone!==h.phone))!==void 0});function r(h){let p=e.value.find(m=>m.product.id===h.id);if(p)p.users[w(h.product.id)].quantity++;else{let m=o.dataUser();e.value.push({product:h,users:[{name:m.name,phone:m.phone,quantity:1,date:new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString(),inDBCart:m.isAuthorized}]}),p=e.value[e.value.length-1]}A("Товар добавлен в корзину!"),I(p,"add")}function c(h){let p=o.dataUser();h.forEach(_=>{const b=e.value.find(N=>N.product.id===_.product.id);if(!b)e.value.push(_);else{let N=[];for(let P=0;P<_.users.length;P++)P===w(_.product.id)&&p.phone===_.users[P].phone?(b.users[P].inDBCart||(b.users[P].quantity+=parseInt(_.users[P].quantity),I(b,"add")),b.users[P].inDBCart=!0):w(_.product.id)===-1&&!b.users[P].inDBCart?(b.users[0].name=p.name,b.users[0].phone=p.phone,b.users[0].inDBCart=!0,I(b,"addMore"),N.push(_.users[P])):P<b.users.length&&b.users[P].inDBCart||(N.push(_.users[P]),I(b,"add"));N.forEach(P=>{let he=b.users.find(xe=>xe.phone===P.phone);he?he.quantity+=parseInt(P.quantity):b.users.push(P)})}});let m=[];e.value.forEach(_=>{h.find(b=>b.product.id===_.product.id)||(_.users[0].name=p.name,_.users[0].phone=p.phone,_.users[0].inDBCart=!0,m.push(_))}),m.length>0&&F.post(route("save.cart",{products:m}))}function w(h){let p=o.dataUser();return e.value.find(_=>_.product.id===h).users.findIndex(_=>_.phone===p.phone)}function v(h,p=w(h)){let m=e.value.find(_=>_.product.id===h);if(p===-1){let _=o.dataUser();m.users.push({name:_.name,phone:_.phone,quantity:1,date:new Date().toLocaleDateString(),inDBCart:_.isAuthorized})}else m.users[p].quantity++;A("Товар добавлен в корзину!"),I(m,"inc")}function O(h,p=w(h)){if(p===-1){j.getOrCreateInstance(document.getElementById("changeUserCart")).show();return}let m=e.value.find(_=>_.product.id===h);m.users[p].quantity>1?(m.users[p].quantity--,A("Лишний товар убран из корзины!"),I(m,"dec")):y(h,p)}function y(h,p=w(h)){if(p===-1){j.getOrCreateInstance(document.getElementById("changeUserCart")).show();return}let m=e.value.find(b=>b.product.id===h),_=e.value.indexOf(m);p===w(h)||m.users.length===1?(I(e.value[_],"delete"),e.value.splice(_,1)):(m.users.splice(p,1),I(e.value[_],"dec")),A("Лишний товар убран из корзины!")}async function E(){e.value=[],o.dataUser().isAuthorized&&await F.post(route("clear.cart")).catch(p=>{p.response.status===403&&o.getUser()})}async function I(h,p){o.dataUser().isAuthorized&&await F.post(route("change.cart",{product:h,action:p})).catch(_=>{_.response.status===403&&o.getUser()})}return{items:e,getProductById:s,getTotalCount:a,getTotalPrice:d,getTotalWeight:u,hasOtherUserCart:$,inCart:l,addToCart:r,incQuantity:v,decQuantity:O,removeProduct:y,clearCart:E,addToCartFromBD:c}}),nt={class:"d-flex justify-content-center"},rt={class:"group-btn-counter gap-3"},lt=["name"],dt=t("span",null,[t("i",{class:"fas fa-trash"})],-1),it=[dt],ut=["name"],ct=["innerHTML"],pt=["name"],mt=t("span",null,"+",-1),ht=[mt],gt=["name","data-bs-content","disabled"],vt={class:"fw-bolder"},ft=["name","disabled"],ie={__name:"ProductControls",props:{product:{type:Object,default:{}}},setup(e){const s=e,o=V(!1),a=V(new Date().getDay()),d=ee("inModal",!1),u=Z(),{items:l}=T(u),g=ee("ready_to_order"),$=ee("is_cart_open"),r=O=>{let y=new Date;return y.setDate(y.getDate()+7-y.getDay()+O),y.getDate()+"."+(y.getMonth()+1)+"."+y.getFullYear()},c=()=>l.value.filter(y=>y.product.addition===0).length>0||s.product.addition===0,w=async O=>{[...document.getElementsByName("btn-popover-"+O)].forEach(y=>X.getOrCreateInstance(y).dispose()),await ne(),[...document.getElementsByName("btn-popover-"+O)].forEach(y=>X.getOrCreateInstance(y))},v=()=>{g.value=!0,$.value=!0};return(O,y)=>(n(),i("div",nt,[f(u).inCart(e.product.id)>0?(n(),i("div",{key:0,class:"cnt-container",onMouseenter:y[4]||(y[4]=E=>o.value=!0),onMouseleave:y[5]||(y[5]=E=>o.value=!1)},[t("div",rt,[t("button",{class:"btn btn-danger btn-coutner me-3",name:"btn-popover-"+e.product.id,"data-bs-trigger":"hover","data-bs-toggle":"popover","data-bs-placement":"bottom","data-bs-content":"Убрать весь продукт из корзины",onClick:y[0]||(y[0]=E=>{f(u).removeProduct(e.product.id),w(e.product.id)})},it,8,lt),t("button",{class:"btn btn-danger btn-coutner",name:"btn-popover-"+e.product.id,onClick:y[1]||(y[1]=E=>{f(u).decQuantity(e.product.id),w(e.product.id)}),"data-bs-trigger":"hover","data-bs-toggle":"popover","data-bs-placement":"bottom","data-bs-content":"Убрать порцию из корзины"}," - ",8,ut)]),t("p",{innerHTML:f(u).inCart(e.product.id),class:B(f(d)?"text-dark":"text-white")},null,10,ct),t("button",{class:"btn btn-danger btn-coutner",name:"btn-popover-"+e.product.id,onClick:y[2]||(y[2]=E=>{f(u).incQuantity(e.product.id),w(e.product.id)}),"data-bs-trigger":"hover","data-bs-toggle":"popover","data-bs-placement":"bottom","data-bs-content":"Добавить еще порцию в корзину"},ht,8,pt),o.value?(n(),i("div",{key:0,class:"btn btn-success sub-btn z-1",onClick:y[3]||(y[3]=E=>v())},"Оформить")):k("",!0)],32)):k("",!0),!(a.value<e.product.day_index)&&f(u).inCart(e.product.id)===0?(n(),i("button",{key:1,class:"btn btn-danger w-100 text-uppercase mt-2 p-3",name:"btn-popover-"+e.product.id,"data-bs-trigger":"hover","data-bs-toggle":"popover","data-bs-placement":"bottom","data-bs-content":"Добавить товар в корзину - "+r(e.product.day_index),onClick:y[6]||(y[6]=E=>{f(u).addToCart(e.product),w(e.product.id)}),disabled:!c()},[M("В КОРЗИНУ "),t("span",vt,C(r(e.product.day_index)),1)],8,gt)):k("",!0),a.value<e.product.day_index&&f(u).inCart(e.product.id)===0?(n(),i("button",{key:2,class:"btn btn-success w-100 text-uppercase mt-2 p-3 custom-btn-color-success",name:"btn-popover-"+e.product.id,"data-bs-trigger":"hover","data-bs-toggle":"popover","data-bs-placement":"bottom","data-bs-content":"Добавить товар в корзину",onClick:y[7]||(y[7]=E=>{f(u).addToCart(e.product),w(e.product.id)}),disabled:!c()}," В КОРЗИНУ ",8,ft)):k("",!0)]))}},_t=["id","aria-labelledby"],bt={key:0,class:"modal-header"},yt=["id"],kt={class:"modal-body"},$t={key:2,class:"modal-footer"},wt=t("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Отменить",-1),Ct=t("button",{type:"button",class:"btn btn-success","data-bs-dismiss":"modal"},"Подтвердить",-1),xt=[wt,Ct],z={__name:"Modal",props:{id:{type:String,default:"modal"},title:{type:String,default:null},class_size:{type:String,default:null},header:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},clearFunction:{type:Function,default:()=>{}},class_content:{type:String,default:null}},setup(e){return(s,o)=>(n(),i("div",{class:"modal fade",id:e.id,tabindex:"-1","aria-labelledby":e.id+"Label","aria-hidden":"true"},[t("div",{class:B(["modal-dialog",e.class_size])},[t("div",{class:B(["modal-content",e.class_content])},[e.header?(n(),i("div",bt,[Q(s.$slots,"title",{},()=>[t("h5",{class:"modal-title",id:e.id+"Label"},C(e.title),9,yt)]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:o[0]||(o[0]=a=>e.clearFunction())})])):k("",!0),e.header?k("",!0):Q(s.$slots,"header",{key:1}),t("div",kt,[Q(s.$slots,"body")]),e.footer?(n(),i("div",$t,xt)):k("",!0),e.footer?k("",!0):Q(s.$slots,"footer",{key:3})],2)],2)],8,_t))}},Et={class:"badge bg-danger"},Ot={key:0,class:"row"},Vt={class:"col-md-7 col-sm-6"},It=["src"],Mt={class:"col-md-5 col-sm-6"},Rt={key:0},Pt={key:1},St={class:"d-flex mb-2 flex-wrap text-dark"},At={class:"badge bg-danger me-1"},Tt={key:2,class:"text-dark"},Ut={key:3,class:"text-dark"},Lt={key:1,class:"row"},Bt={key:0,class:"row p-2"},jt={class:"col-md-6 mt-2"},Dt={class:"row"},zt={class:"col-md-6"},Nt=["src"],Ft={class:"col-md-6"},qt={class:"badge bg-danger me-1"},Jt={class:"row w-100"},Wt={class:"col-md-4 d-flex justify-content-center align-items-center"},Qt={key:0,class:"text-dark"},Xt={class:"col-md-4 d-flex justify-content-center align-items-center"},Ht={key:0,class:"text-dark"},Kt={class:"col-md-4"},Gt={__name:"ProductModal",props:{product:{type:Object,default:{}}},setup(e){return oe("inModal",!0),(s,o)=>(n(),L(z,{id:"modal-"+e.product.id,class_size:"modal-lg"},{title:S(()=>[t("h3",null,[t("span",Et,'"'+C(e.product.title)+'"',1)])]),body:S(()=>[e.product.is_week?k("",!0):(n(),i("div",Ot,[t("div",Vt,[t("img",{src:e.product.image,class:"img-fluid",alt:""},null,8,It)]),t("div",Mt,[e.product.description?(n(),i("p",Rt,C(e.product.description),1)):k("",!0),e.product.positions?(n(),i("ul",Pt,[(n(!0),i(R,null,U(e.product.positions,a=>(n(),i("li",St,[t("p",null,[t("span",At,C(a.weight)+" гр.",1),M(C(a.title),1)])]))),256))])):k("",!0),e.product.price?(n(),i("p",Tt,[M("Цена: "),t("strong",null,C(e.product.price)+" руб.",1)])):k("",!0),e.product.weight?(n(),i("p",Ut,[M("Масса: "),t("strong",null,C(e.product.weight)+" гр.",1)])):k("",!0),x(ie,{product:e.product},null,8,["product"])])])),e.product.is_week?(n(),i("div",Lt,[e.product.positions?(n(),i("ul",Bt,[(n(!0),i(R,null,U(e.product.positions,a=>(n(),i("li",jt,[t("div",Dt,[t("div",zt,[t("img",{src:a.image,class:"img-fluid",alt:""},null,8,Nt)]),t("div",Ft,[t("p",null,[t("span",qt,C(a.weight)+" гр.",1),M(C(a.title),1)])])])]))),256))])):k("",!0),t("div",Jt,[t("div",Wt,[e.product.price?(n(),i("p",Qt,[M("Полная цена: "),t("strong",null,C(e.product.price)+" руб.",1)])):k("",!0)]),t("div",Xt,[e.product.weight?(n(),i("p",Ht,[M("Общая масса: "),t("strong",null,C(e.product.weight)+" гр.",1)])):k("",!0)]),t("div",Kt,[x(ie,{product:e.product},null,8,["product"])])])])):k("",!0)]),_:1},8,["id"]))}},Zt=["alt","data-bs-target"],Yt={key:0,class:"week-label"},es={__name:"ProductCard",props:{product:{type:Object,default:{}},week:{type:Boolean,default:!1}},setup(e){const s=async o=>{[...document.getElementsByName("btn-popover-"+o)].forEach(a=>X.getOrCreateInstance(a).dispose()),await ne(),[...document.getElementsByName("btn-popover-"+o)].forEach(a=>X.getOrCreateInstance(a))};return(o,a)=>{const d=pe("lazy");return n(),i(R,null,[t("div",{class:B(["day-item",e.week?"week-product":""])},[t("h3",null,C(e.product.title),1),J(t("img",{alt:e.product.title,class:"w-100","data-bs-toggle":"modal","data-bs-target":"#modal-"+e.product.id,onClick:a[0]||(a[0]=u=>s(e.product.id))},null,8,Zt),[[d,e.product.image]]),x(ie,{product:e.product},null,8,["product"]),e.product.is_week?(n(),i("div",Yt,"Бесплатная доставка")):k("",!0)],2),x(Gt,{product:e.product},null,8,["product"])],64)}}};/*! maska v2.1.9 | (c) Alexander Shabunevich | Released under the MIT license */var ts=Object.defineProperty,ss=(e,s,o)=>s in e?ts(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,te=(e,s,o)=>(ss(e,typeof s!="symbol"?s+"":s,o),o);const ge={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}};class ve{constructor(s={}){te(this,"opts",{}),te(this,"memo",new Map);const o={...s};if(o.tokens!=null){o.tokens=o.tokensReplace?{...o.tokens}:{...ge,...o.tokens};for(const a of Object.values(o.tokens))typeof a.pattern=="string"&&(a.pattern=new RegExp(a.pattern))}else o.tokens=ge;Array.isArray(o.mask)&&(o.mask.length>1?o.mask=[...o.mask].sort((a,d)=>a.length-d.length):o.mask=o.mask[0]??""),o.mask===""&&(o.mask=null),this.opts=o}masked(s){return this.process(s,this.findMask(s))}unmasked(s){return this.process(s,this.findMask(s),!1)}isEager(){return this.opts.eager===!0}isReversed(){return this.opts.reversed===!0}completed(s){const o=this.findMask(s);if(this.opts.mask==null||o==null)return!1;const a=this.process(s,o).length;return typeof this.opts.mask=="string"?a>=this.opts.mask.length:typeof this.opts.mask=="function"?a>=o.length:this.opts.mask.filter(d=>a>=d.length).length===this.opts.mask.length}findMask(s){const o=this.opts.mask;if(o==null)return null;if(typeof o=="string")return o;if(typeof o=="function")return o(s);const a=this.process(s,o.slice(-1).pop()??"",!1);return o.find(d=>this.process(s,d,!1).length>=a.length)??""}escapeMask(s){const o=[],a=[];return s.split("").forEach((d,u)=>{d==="!"&&s[u-1]!=="!"?a.push(u-a.length):o.push(d)}),{mask:o.join(""),escaped:a}}process(s,o,a=!0){var d;if(o==null)return s;const u=`value=${s},mask=${o},masked=${a?1:0}`;if(this.memo.has(u))return this.memo.get(u);const{mask:l,escaped:g}=this.escapeMask(o),$=[],r=this.opts.tokens!=null?this.opts.tokens:{},c=this.isReversed()?-1:1,w=this.isReversed()?"unshift":"push",v=this.isReversed()?0:l.length-1,O=this.isReversed()?()=>h>-1&&p>-1:()=>h<l.length&&p<s.length,y=m=>!this.isReversed()&&m<=v||this.isReversed()&&m>=v;let E,I=-1,h=this.isReversed()?l.length-1:0,p=this.isReversed()?s.length-1:0;for(;O();){const m=l.charAt(h),_=r[m],b=(_==null?void 0:_.transform)!=null?_.transform(s.charAt(p)):s.charAt(p);if(!g.includes(h)&&_!=null){if(b.match(_.pattern)!=null)$[w](b),_.repeated?(I===-1?I=h:h===v&&h!==I&&(h=I-c),v===I&&(h-=c)):_.multiple&&(h-=c),h+=c;else if(_.multiple){const N=((d=$[p-c])==null?void 0:d.match(_.pattern))!=null,P=l.charAt(h+c);N&&P!==""&&r[P]==null?(h+=c,p-=c):$[w]("")}else b===E?E=void 0:_.optional&&(h+=c,p-=c);p+=c}else a&&!this.isEager()&&$[w](m),b===m&&!this.isEager()?p+=c:E=m,this.isEager()||(h+=c);if(this.isEager())for(;y(h)&&(r[l.charAt(h)]==null||g.includes(h));)a?$[w](l.charAt(h)):l.charAt(h)===s.charAt(p)&&(p+=c),h+=c}return this.memo.set(u,$.join("")),this.memo.get(u)}}const $e=e=>JSON.parse(e.replaceAll("'",'"')),fe=(e,s={})=>{const o={...s};return e.dataset.maska!=null&&e.dataset.maska!==""&&(o.mask=os(e.dataset.maska)),e.dataset.maskaEager!=null&&(o.eager=de(e.dataset.maskaEager)),e.dataset.maskaReversed!=null&&(o.reversed=de(e.dataset.maskaReversed)),e.dataset.maskaTokensReplace!=null&&(o.tokensReplace=de(e.dataset.maskaTokensReplace)),e.dataset.maskaTokens!=null&&(o.tokens=as(e.dataset.maskaTokens)),o},de=e=>e!==""?!!JSON.parse(e):!0,os=e=>e.startsWith("[")&&e.endsWith("]")?$e(e):e,as=e=>{if(e.startsWith("{")&&e.endsWith("}"))return $e(e);const s={};return e.split("|").forEach(o=>{const a=o.split(":");s[a[0]]={pattern:new RegExp(a[1]),optional:a[2]==="optional",multiple:a[2]==="multiple",repeated:a[2]==="repeated"}}),s};class ns{constructor(s,o={}){te(this,"items",new Map),te(this,"beforeinputEvent",a=>{const d=a.target,u=this.items.get(d);u.isEager()&&"inputType"in a&&a.inputType.startsWith("delete")&&u.unmasked(d.value).length<=1&&this.setMaskedValue(d,"")}),te(this,"inputEvent",a=>{if(a instanceof CustomEvent&&a.type==="input"&&a.detail!=null&&typeof a.detail=="object"&&"masked"in a.detail)return;const d=a.target,u=this.items.get(d),l=d.value,g=d.selectionStart,$=d.selectionEnd;let r=l;if(u.isEager()){const c=u.masked(l),w=u.unmasked(l);w===""&&"data"in a&&a.data!=null?r=a.data:w!==u.unmasked(c)&&(r=w)}if(this.setMaskedValue(d,r),"inputType"in a&&(a.inputType.startsWith("delete")||g!=null&&g<l.length))try{d.setSelectionRange(g,$)}catch{}}),this.options=o,typeof s=="string"?this.init(Array.from(document.querySelectorAll(s)),this.getMaskOpts(o)):this.init("length"in s?Array.from(s):[s],this.getMaskOpts(o))}destroy(){for(const s of this.items.keys())s.removeEventListener("input",this.inputEvent),s.removeEventListener("beforeinput",this.beforeinputEvent);this.items.clear()}needUpdateOptions(s,o){const a=this.items.get(s),d=new ve(fe(s,this.getMaskOpts(o)));return JSON.stringify(a.opts)!==JSON.stringify(d.opts)}needUpdateValue(s){const o=s.dataset.maskaValue;return o==null&&s.value!==""||o!=null&&o!==s.value}getMaskOpts(s){const{onMaska:o,preProcess:a,postProcess:d,...u}=s;return u}init(s,o){for(const a of s){const d=new ve(fe(a,o));this.items.set(a,d),a.value!==""&&this.setMaskedValue(a,a.value),a.addEventListener("input",this.inputEvent),a.addEventListener("beforeinput",this.beforeinputEvent)}}setMaskedValue(s,o){const a=this.items.get(s);this.options.preProcess!=null&&(o=this.options.preProcess(o));const d=a.masked(o),u=a.unmasked(a.isEager()?d:o),l=a.completed(o),g={masked:d,unmasked:u,completed:l};o=d,this.options.postProcess!=null&&(o=this.options.postProcess(o)),s.value=o,s.dataset.maskaValue=o,this.options.onMaska!=null&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach($=>$(g)):this.options.onMaska(g)),s.dispatchEvent(new CustomEvent("maska",{detail:g})),s.dispatchEvent(new CustomEvent("input",{detail:g}))}}const ue=new WeakMap,rs=e=>{setTimeout(()=>{var s;((s=ue.get(e))==null?void 0:s.needUpdateValue(e))===!0&&e.dispatchEvent(new CustomEvent("input"))})},ls=(e,s)=>{const o=e instanceof HTMLInputElement?e:e.querySelector("input"),a={...s.arg};if(o==null)return;rs(o);const d=ue.get(o);if(d!=null){if(!d.needUpdateOptions(o,a))return;d.destroy()}if(s.value!=null){const u=s.value,l=g=>{u.masked=g.masked,u.unmasked=g.unmasked,u.completed=g.completed};a.onMaska=a.onMaska==null?l:Array.isArray(a.onMaska)?[...a.onMaska,l]:[a.onMaska,l]}ue.set(o,new ns(o,a))},ds=["type","placeholder","value","data-maska"],is={class:"invalid-feedback"},D={__name:"TextInput",props:{modelValue:{type:String,required:!0},placeholder:{type:String,required:!0},type:{type:String,default:"text"},mask:{type:String,default:null},errors:{type:Array,default:[]},blur:{default:null},isMasked:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:s}){const o=e,a=u=>{o.mask!==null&&!o.isMasked&&s("update:modelValue","7"+u.detail.unmasked)},d=u=>{(o.mask===null||o.isMasked)&&s("update:modelValue",u.target.value)};return(u,l)=>(n(),i(R,null,[J(t("input",{type:e.type,class:B(["form-control w-100 mt-2 mb-0 px-4 py-3",[e.errors.length>0?"is-invalid":"",e.errors.length===0&&e.modelValue!==""&&e.modelValue!==null?"is-valid":""]]),placeholder:e.placeholder,value:e.modelValue,"data-maska":e.mask,onMaska:a,onInput:d,onBlur:l[0]||(l[0]=(...g)=>e.blur&&e.blur(...g))},null,42,ds),[[f(ls)]]),e.errors.length>0?(n(!0),i(R,{key:0},U(e.errors,g=>(n(),i("div",is,C(g),1))),256)):k("",!0)],64))}};const us=["onClick"],we={__name:"AddressesSelect",props:{formAddress:{type:String,default:null},errors:{type:Array,required:!0},blur:{type:Function,default:()=>{}},clearMessage:{type:Function,default:()=>{}}},emits:["update:formAddress","option:selected","search:blur"],setup(e,{emit:s}){const o=e,{user:a}=T(H()),d=V(null),u=V(!0),l=V("");q(d,()=>{s("update:formAddress",d.value)});const g=v=>{v!==null&&v!==""&&(d.value=v,o.clearMessage())},$=()=>{r(!0),o.blur()},r=(v=!1)=>{!a.value.addresses.some(O=>O===d.value)&&d.value!==null&&d.value!==""&&a.value.addresses.push(d.value),v&&s("option:selected",d.value)},c=async v=>{u.value=!1,d.value=null,a.value.addresses.splice(a.value.addresses.indexOf(v),1),l.value=v},w=v=>{v!==l.value?(d.value=v,u.value||document.getElementsByClassName("vs__search")[0].blur(),u.value=!0):(l.value="",d.value=null)};return(v,O)=>{const y=re("v-select");return n(),L(y,{modelValue:d.value,"onUpdate:modelValue":O[0]||(O[0]=E=>d.value=E),options:f(a).addresses,taggable:"",onSearch:g,"onSearch:blur":$,onChange:r,closeOnSelect:u.value,"onOption:selected":w,placeholder:"Адрес доставки",class:B(["form-control w-100 mt-2 mb-0 ps-3 pe-4 py-3",[e.errors.length>0?"is-invalid":"",e.errors.length===0&&d.value!==null?"is-valid":""]])},{option:S(({label:E})=>[f(a).addresses.indexOf(E)!==-1?(n(),i("button",{key:0,type:"button",class:"btn-close position-relative z-3","aria-label":"Close",onClick:I=>c(E)},null,8,us)):k("",!0),M(" "+C(E),1)]),_:1},8,["modelValue","options","closeOnSelect","class"])}}},cs=["onSubmit"],ps={key:0,class:"text-success mt-2"},ms={class:"invalid-feedback"},hs={class:"summary"},gs={key:0},vs=["disabled"],fs=t("p",{class:"end-info"},"После оформления заявки вам будет предложен для скачивания чек с подробным описанием заказа, его номером и промокодом для лотереи",-1),_s=t("div",{class:"row justify-content-center"},[t("p",null,"Хотите ли вы стать нашим клиентом?")],-1),bs={class:"modal-footer"},ys=t("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Нет",-1),ks=t("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Отмена",-1),$s={__name:"OrderForm",props:{modelValue:{type:String}},emits:["update:modelValue"],setup(e,{emit:s}){const o=Z(),{items:a,getTotalPrice:d,getTotalWeight:u}=T(o),l=H(),{user:g}=T(l),$=V(!1),r=W({name:"",address:null,phone:"",message:"",delivery_price:null,delivery_range:null,total_weight:0,total_price:0,total_count:0,addresses:[],code:null,manager_phone:null}),c=V(!1),w=V(null),v=V([]),O=V(60);se(()=>{r.name=g.value.name,r.phone=g.value.phone});const y=async()=>{await ne(),w.value="Мы ищем ваш Адрес, пожалуйста, ожидайте!",await axios.post(route("delivery.range"),{address:r.address}).then(m=>{w.value="Цена доставки к Вам "+m.data.price+" руб.",c.value=!0,r.delivery_price=m.data.price,r.delivery_range=m.data.range})},E=()=>{r.products=a.value,r.addresses=g.value.addresses,g.value.name=r.name,g.value.phone=r.phone,axios.post(route("order"),r,{responseType:"blob"}).then(m=>{j.getOrCreateInstance(document.getElementById("confirmOrder")).hide();let _=window.URL.createObjectURL(new Blob([m.data])),b=document.createElement("a");b.href=_,b.setAttribute("download","report.pdf"),document.body.appendChild(b),b.click(),A("Ваш заказ успешно отправлен! Ожидайте звонка оператора!"),a.value=[],$.value&&l.login({phone:r.phone,password:r.phone}),!g.value.isAuthorized&&!$.value&&j.getOrCreateInstance(document.getElementById("register")).show(),s("update:modelValue",!1),O.value=60}).catch(async m=>{if(m.response.status===422){const _=JSON.parse(await m.response.data.text());v.value=_.errors}m.response.status===406&&($.value=!0,j.getOrCreateInstance(document.getElementById("confirmOrder")).show(),await h()),m.response.status===409&&(j.getOrCreateInstance(document.getElementById("confirmOrder")).hide(),a.value=[],$.value&&l.login({phone:r.phone,password:r.phone}),!g.value.isAuthorized&&!$.value&&j.getOrCreateInstance(document.getElementById("register")).show(),s("update:modelValue",!1),O.value=60,A("Ваш заказ успешно отправлен менеджеру!"))})},I=()=>{w.value=null},h=async()=>{await setTimeout(()=>{O.value!==0&&(O.value--,h())},1e3)},p=()=>{l.sendCode(),O.value=60};return(m,_)=>(n(),i(R,null,[t("form",{onSubmit:ye(E,["prevent"]),class:"order-form w-100"},[t("button",{class:"hider",onClick:_[0]||(_[0]=b=>m.$emit("update:modelValue",!1))},"Скрыть"),x(D,{errors:v.value.hasOwnProperty("name")?v.value.name:[],placeholder:"Ваше имя",modelValue:r.name,"onUpdate:modelValue":_[1]||(_[1]=b=>r.name=b)},null,8,["errors","modelValue"]),x(D,{errors:v.value.hasOwnProperty("phone")?v.value.phone:[],placeholder:"Ваш номер телефона",modelValue:r.phone,"onUpdate:modelValue":_[2]||(_[2]=b=>r.phone=b),mask:"+7 (###) ###-##-##"},null,8,["errors","modelValue"]),w.value&&r.address!==null?(n(),i("p",ps,C(w.value),1)):k("",!0),x(we,{formAddress:r.address,"onUpdate:formAddress":_[3]||(_[3]=b=>r.address=b),errors:v.value.hasOwnProperty("address")?v.value.address:[],blur:y,clearMessage:I},null,8,["formAddress","errors"]),"address"in v.value&&v.value.address.length>0?(n(!0),i(R,{key:1},U(v.value.address,b=>(n(),i("div",ms,C(b),1))),256)):k("",!0),x(D,{errors:v.value.hasOwnProperty("manager_phone")?v.value.manager_phone:[],placeholder:"Номер телефона менеджера",modelValue:r.manager_phone,"onUpdate:modelValue":_[4]||(_[4]=b=>r.manager_phone=b),mask:"+7 (###) ###-##-##"},null,8,["errors","modelValue"]),J(t("textarea",{class:B(["form-control mb-0 mt-2",[v.value.hasOwnProperty("message")&&v.value.message.length>0?"is-invalid":"",!v.value.hasOwnProperty("message")&&r.message!==""?"is-valid":""]]),placeholder:"Текстовое сообщение","onUpdate:modelValue":_[5]||(_[5]=b=>r.message=b)},null,2),[[be,r.message]]),t("ul",hs,[t("li",null,[t("p",null,[M("Цена заказа: "),t("span",null,C(f(d))+" руб",1)])]),t("li",null,[t("p",null,[M("Масса заказа: "),t("span",null,C(f(u))+" гр",1)])]),r.delivery_price?(n(),i("li",gs,[t("p",null,[M("Примерная цена доставки: "),t("span",null,C(r.delivery_price)+" руб.",1)])])):k("",!0)]),t("button",{class:"btn btn-success w-100 p-3 text-uppercase font-weight-bold",disabled:!c.value&&r.manager_phone===null}," Отправить заявку ",8,vs),fs],40,cs),x(z,{id:"register",header:!1,footer:!1},{body:S(()=>[_s]),footer:S(()=>[t("div",bs,[ys,t("button",{type:"button",class:"btn btn-success",onClick:_[6]||(_[6]=(...b)=>f(l).register&&f(l).register(...b)),"data-bs-dismiss":"modal"},"Да ")])]),_:1}),x(z,{id:"confirmOrder",title:"Подтвердите Ваш заказ кодом из смс",footer:!1},{body:S(()=>[x(D,{errors:v.value.hasOwnProperty("code")?v.value.code:[],placeholder:"Введите код подтверждения",modelValue:r.code,"onUpdate:modelValue":_[7]||(_[7]=b=>r.code=b),mask:"####","is-masked":!0},null,8,["errors","modelValue"]),t("button",{type:"button",class:B(["btn btn-link text-decoration-none",O.value!==0?"disabled":"text-success"]),onClick:_[8]||(_[8]=b=>O.value===0?p():null)},"Отправить код повторно"+C(O.value!==0?" через "+O.value:""),3)]),footer:S(()=>[t("div",{class:"modal-footer"},[ks,t("button",{type:"button",class:"btn btn-success",onClick:E},"Подтвердить")])]),_:1})],64))}},ws={class:"modal-header"},Cs=t("h5",{class:"modal-title"},"Отчет по пользователям",-1),xs=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Es={key:0},Os={class:"table-responsive"},Vs={class:"table table-hover"},Is=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"Имя пользователя"),t("th",{scope:"col"},"Телефон пользователя"),t("th",{scope:"col"},"Количество порций"),t("th",{scope:"col"},"Дата добавления"),t("th",{scope:"col"},"Действия")])],-1),Ms={class:"d-flex gap-3"},Rs={class:"group-btn-counter gap-1"},Ps=["onClick"],Ss=["onClick"],As=t("span",null,"+",-1),Ts=[As],Ce={__name:"UserCartModal",setup(e){const s=Z(),{items:o}=T(s),a=me(),{foodParts:d}=T(a),u=async()=>{await axios.get(route("print.report"),{responseType:"blob"}).then(g=>{let $=window.URL.createObjectURL(new Blob([g.data])),r=document.createElement("a");r.href=$,r.setAttribute("download","report.pdf"),document.body.appendChild(r),r.click()}).catch(async g=>{g.response.status===403&&A("Для печати отчета необходима авторизация!","error")})},l=g=>d.value.find($=>$.partId===g.product.partId);return(g,$)=>(n(),L(z,{id:"changeUserCart",header:!1,footer:!1,class_size:"modal-lg"},{header:S(()=>[t("div",ws,[Q(g.$slots,"title",{},()=>[Cs]),t("button",{class:"btn btn-secondary btn-link",onClick:$[0]||($[0]=r=>u())},"Распечатать"),xs])]),body:S(()=>[f(o).length>0?(n(!0),i(R,{key:0},U(f(o),r=>(n(),i(R,null,[t("p",null,[l(r)?(n(),i("strong",Es,C(l(r).title)+". ",1)):k("",!0),M(C(r.product.title),1)]),t("div",Os,[t("table",Vs,[Is,t("tbody",null,[(n(!0),i(R,null,U(r.users,(c,w)=>(n(),i("tr",null,[t("td",null,C(c.name),1),t("td",null,C(c.phone),1),t("td",null,C(c.quantity),1),t("td",null,C(c.date),1),t("td",null,[t("div",Ms,[t("div",Rs,[t("button",{class:"btn btn-danger btn-coutner",onClick:v=>f(s).decQuantity(r.product.id,w)}," - ",8,Ps),t("button",{class:"btn btn-danger btn-coutner",onClick:v=>f(s).incQuantity(r.product.id,w)},Ts,8,Ss)])])])]))),256))])])])],64))),256)):k("",!0)]),_:3}))}},Us={class:"cart-modal"},Ls={class:"cart-modal-inner"},Bs={key:0,class:"btn btn-link fs-2","data-bs-toggle":"modal","data-bs-target":"#changeUserCart"},js=t("i",{class:"far fa-circle-info text-danger"},null,-1),Ds=[js],zs={class:"day-item-wrapper list-group-numbered"},Ns={key:1},Fs=t("img",{src:"/images/logo_obed_go.jpg",class:"img-fluid",alt:""},null,-1),qs=t("h3",{class:"text-uppercase text-center"},"В корзине пусто...",-1),Js=[Fs,qs],Ws={key:0,class:"custom-modal-footer"},Qs=["disabled"],Xs={__name:"CartModal",setup(e){const s=Z(),{items:o,hasOtherUserCart:a}=T(s),d=H();T(d);const u=W({suppressScrollX:!0,suppressScrollY:!1}),l=ee("ready_to_order"),g=ee("is_cart_open");oe("inModal",!0);const $=()=>o.value.filter(c=>c.product.addition===0).length>0;return(r,c)=>{const w=re("perfect-scrollbar");return n(),i("div",Us,[t("div",Ls,[t("div",{class:B(["custom-modal-header",f(a)?"justify-content-between":""])},[f(a)?(n(),i("button",Bs,Ds)):k("",!0),t("button",{class:"btn btn-link",onClick:c[0]||(c[0]=v=>g.value=!1)},"Закрыть")],2),x(w,{class:"scroll-area scroll-area-bottom ms-0 ps-0",options:u,tag:"ul"},{default:S(()=>[f(s).getTotalCount>0?(n(!0),i(R,{key:0},U(f(o),v=>(n(),i("li",zs,[x(es,{product:v.product},null,8,["product"]),x(Ce,{productId:v.product.id},null,8,["productId"])]))),256)):k("",!0),f(s).getTotalCount===0?(n(),i("li",Ns,Js)):k("",!0)]),_:1},8,["options"]),f(s).getTotalCount>0?(n(),i("div",Ws,[f(l)?k("",!0):(n(),i("button",{key:0,class:"btn btn-danger w-100 p-3 text-uppercase fw-bold",disabled:!$(),onClick:c[1]||(c[1]=v=>l.value=!0)},[M("Оформить "),t("strong",null,C(f(s).getTotalPrice)+" руб",1)],8,Qs)),f(l)?k("",!0):(n(),i("button",{key:1,class:"btn btn-outline-danger mt-2 w-100 p-3 text-uppercase fw-bold",onClick:c[2]||(c[2]=(...v)=>f(s).clearCart&&f(s).clearCart(...v))},"Очистить ")),f(l)?(n(),L($s,{key:2,modelValue:f(l),"onUpdate:modelValue":c[3]||(c[3]=v=>Qe(l)?l.value=v:null)},null,8,["modelValue"])):k("",!0)])):k("",!0)]),t("div",{class:"cart-shadow",onClick:c[4]||(c[4]=v=>g.value=!1)})])}}},le=ae("lottery",()=>{const e=V([]),s=V(null),o=V({});return{lotteries:e,lottery_id:s,lotteryItem:o,loadLotteries:async()=>{await axios.get(route("lotteries")).then(u=>{e.value=u.data})},loadLottery:async()=>{await axios.get(route("lottery",s.value)).then(u=>{o.value=u.data})}}}),Hs={class:"row d-flex justify-content-center"},Ks={class:"col-12"},Gs={class:"col-12"},Zs=t("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Отмена",-1),Ys={__name:"LoginModal",setup(e){const s=H(),o={phone:"",password:""},a=W({...o}),d=V([]),u=()=>{Object.assign(a,o),d.value=[]},l=()=>{s.login(a).then(g=>{j.getOrCreateInstance(document.getElementById("login")).hide(),u()},g=>{g.hasOwnProperty("response")&&(d.value=g.response.data.errors)})};return(g,$)=>(n(),L(z,{id:"login",title:"Войти в аккаунт",footer:!1,"clear-function":u},{body:S(()=>[t("div",Hs,[t("div",Ks,[x(D,{errors:d.value.hasOwnProperty("phone")?d.value.phone:[],placeholder:"Ваш номер телефона",modelValue:a.phone,"onUpdate:modelValue":$[0]||($[0]=r=>a.phone=r),mask:"+7 (###) ###-##-##"},null,8,["errors","modelValue"])]),t("div",Gs,[x(D,{errors:d.value.hasOwnProperty("password")?d.value.password:[],placeholder:"Ваш пароль",modelValue:a.password,"onUpdate:modelValue":$[1]||($[1]=r=>a.password=r),type:"password"},null,8,["errors","modelValue"])])])]),footer:S(()=>[t("div",{class:"modal-footer"},[Zs,t("button",{type:"button",class:"btn btn-success",onClick:l},"Да")])]),_:1}))}},eo=t("img",{src:"/images/logo_obed_go.jpg",class:"img-fluid",alt:"О нас"},null,-1),to=t("p",{class:"color--black text-justify"},'Обеды GO - это доставка вкуснейших обедов, приготовленных с любовью. Здесь каждый найдет для себя то, что ищет - домашние блюда, блюда "премиум", здоровая еда, стритфуд и многое другое. Вы можете выбрать для себя сформированное ежедневное комплексное меню или же собрать свой рацион по вкусу.',-1),so={__name:"AboutModal",setup(e){return(s,o)=>(n(),L(z,{id:"about",title:"О Нас"},{body:S(()=>[eo,to]),_:1}))}},oo=t("ul",{class:"about-list"},[t("li",null,"Доставка осуществляется с 12:00 до 14:00 только в будние дни."),t("li",null,'Блюда из разделов "стандарт" и "премиум" заказываются ЗА ДЕНЬ. Предзаказ на понедельник также доступен и в выходные дни. '),t("li",null,'Блюда из раздела "экспресс" заказываются и доставляются день в день.'),t("li",null,"Дополнительные блюда заказываются за сутки!")],-1),ao={__name:"DeliveryModal",setup(e){return(s,o)=>(n(),L(z,{id:"delivery",title:"Условия доставки"},{body:S(()=>[oo]),_:1}))}},no={class:"row mt-2 mb-2 d-flex justify-content-center flex-wrap"},ro={class:"col-md-6 col-lg-4 col-12"},lo={class:"lottery-slide mb-3"},io={alt:""},uo={class:"inf"},co={class:"progress",style:{height:"30px"}},po=["onClick"],mo={__name:"Lotteries",setup(e){const s=le(),{lotteries:o,lottery_id:a}=T(s);return se(()=>{s.loadLotteries()}),(d,u)=>{const l=pe("lazy");return n(),i("div",no,[(n(!0),i(R,null,U(f(o),g=>(n(),i("div",ro,[t("div",lo,[J(t("img",io,null,512),[[l,g.image]]),t("p",uo,[M("Мест: "),t("strong",null,C(g.place_count-g.free_place_count)+" / "+C(g.place_count),1)]),t("div",co,[t("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:ke("width: "+(g.place_count-g.free_place_count)/g.place_count*100+"%")},null,4)]),t("button",{class:"btn btn-danger mt-2 w-100",onClick:$=>a.value=g.id},"Участвовать",8,po)])]))),256))])}}},ho={key:0,class:"row"},go={class:"col-12"},vo={class:"text-danger"},fo={key:0,class:"badge bg-success"},_o={key:1,class:"badge bg-danger"},bo={key:2},yo={key:3,class:"badge bg-danger"},ko={class:"progress",style:{height:"30px"}},$o={class:"col-sm-4 col-md-3 col-6 lottery-item-wrapper",role:"button"},wo=["onClick"],Co={key:0,alt:""},xo={key:1,alt:""},Eo={key:1,class:"row"},Oo={class:"col-12 d-flex justify-content-center align-items-center"},Vo={class:"img-fluid",alt:""},Io={class:"row d-flex justify-content-center"},Mo={class:"col-12"},Ro=t("h4",{class:"col-12 mb-2 mt-2"},[M("Для получение "),t("span",{class:"text-danger fw-bolder"},"оповещения"),M(" о выигрыше Вам необходимо сообщить нам свой номер "),t("span",{class:"text-danger fw-bolder"},"телефона"),M(" и "),t("span",{class:"text-danger fw-bolder"},"электронную почту")],-1),Po={class:"col-12"},So={class:"col-12"},Ao={class:"col-12"},To={class:"col-12 col-sm-6"},Uo={class:"row justify-content-center"},Lo={__name:"LotteryGame",setup(e){const s=le(),{lotteryItem:o,lottery_id:a}=T(s),d=H(),{user:u}=T(d),l=V(null),g=V([]),$={name:"",email:"",phone:"",code:"",lottery_id:a.value,selected_place:null},r=W({...$});se(()=>{s.loadLottery(),Echo.channel(`lottery.${r.lottery_id}`).listen("ChangeLotteryEvent",()=>{s.loadLottery()}),c()});const c=()=>{Object.assign(r,$),Object.assign(r,{phone:u.value.phone,name:u.value.name}),g.value=[]},w=y=>{let E=o.value.occupied_places;return E.length===0?!1:E.find(I=>I===y)!=null},v=y=>{if(w(y)){A("Данный слот уже кем-то занят! Попробуйте занять другой!","error");return}r.selected_place=y,j.getOrCreateInstance(document.getElementById("personal-info")).show()},O=()=>{axios.post(route("lottery.pick"),r).then(y=>{l.value=y.data.current_slot_count===0?null:y.data.current_slot_count,A("Спасибо! Слот успешно занят вами!"),j.getOrCreateInstance(document.getElementById("personal-info")).hide(),c(),l.value!==null&&j.getOrCreateInstance(document.getElementById("accept-lottery")).show()}).catch(y=>{y.response.data.errors&&y.response.data.errors.lottery_id?(A(y.response.data.errors.lottery_id[0],"error"),j.getOrCreateInstance(document.getElementById("personal-info")).hide(),o.value={}):y.response.data.errors&&y.response.data.errors.selected_place?(A(y.response.data.errors.selected_place[0],"error"),j.getOrCreateInstance(document.getElementById("personal-info")).hide(),s.loadLottery()):g.value=y.response.data.errors})};return(y,E)=>{const I=pe("lazy");return n(),i(R,null,[f(o)?(n(),i("div",ho,[t("div",go,[t("h2",vo,C(f(o).title),1),f(o).is_active?(n(),i("div",fo,"Лотерея активна (до "+C(f(o).date_end)+")",1)):(n(),i("div",_o,"Лотерея не активна")),l.value?(n(),i("p",bo,[M("Доступное число активаций "),t("strong",null,C(l.value),1)])):k("",!0),f(o).is_complete?(n(),i("div",yo,"Лотерея окончена")):k("",!0),t("p",null,C(f(o).description),1),t("div",ko,[t("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",role:"progressbar",style:ke("width: "+(f(o).place_count-f(o).free_place_count)/f(o).place_count*100+"%")},null,4)])]),(n(!0),i(R,null,U(f(o).place_count,h=>(n(),i("div",$o,[t("div",{class:"lottery-item",onClick:p=>v(h)},[w(h)?J((n(),i("img",xo,null,512)),[[I,"/images/logo_obed_go_occuped.jpg"]]):J((n(),i("img",Co,null,512)),[[I,"/images/logo_obed_go.jpg"]]),t("p",null,"#"+C(h),1)],8,wo)]))),256))])):(n(),i("div",Eo,[t("div",Oo,[J(t("img",Vo,null,512),[[I,"/images/logo_obed_go.jpg"]])])])),x(z,{id:"personal-info",title:"Участие в розыгрыше","clear-function":c},{body:S(()=>[t("form",Io,[t("div",Mo,[x(D,{errors:g.value.code,placeholder:"Промокод",modelValue:r.code,"onUpdate:modelValue":E[0]||(E[0]=h=>r.code=h)},null,8,["errors","modelValue"])]),Ro,t("div",Po,[x(D,{errors:g.value.name,placeholder:"Ваше имя",modelValue:r.name,"onUpdate:modelValue":E[1]||(E[1]=h=>r.name=h)},null,8,["errors","modelValue"])]),t("div",So,[x(D,{errors:g.value.phone,placeholder:"Ваш номер телефона",modelValue:r.phone,"onUpdate:modelValue":E[2]||(E[2]=h=>r.phone=h),mask:"+7 (###) ###-##-##"},null,8,["errors","modelValue"])]),t("div",Ao,[x(D,{errors:g.value.email,placeholder:"Ваша почта",modelValue:r.email,"onUpdate:modelValue":E[3]||(E[3]=h=>r.email=h),type:"email"},null,8,["errors","modelValue"])]),t("div",To,[t("button",{type:"button",class:"btn btn-outline-success w-100 mt-3",onClick:E[4]||(E[4]=h=>O())},"Занять место")])])]),_:1}),x(z,{id:"accept-lottery",header:!1,footer:!0},{body:S(()=>[t("div",Uo,[t("p",null,[M("Доступное число активаций "),t("strong",null,C(l.value),1)])])]),_:1})],64)}}},Bo={__name:"LotteryModal",setup(e){const{lottery_id:s}=T(le());return(o,a)=>(n(),L(z,{id:"lottery",class_size:"modal-lg",title:"Розыгрыши и призы"},{body:S(()=>[f(s)?(n(),L(Lo,{key:1})):(n(),L(mo,{key:0}))]),_:1}))}},jo=["id"],Do={key:0,class:"carousel-indicators"},zo=["data-bs-target","data-bs-slide-to","aria-current","aria-label"],No={class:"carousel-inner"},Fo=["src"],qo=["data-bs-target"],Jo=t("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1),Wo=t("span",{class:"visually-hidden"},"Previous",-1),Qo=[Jo,Wo],Xo=["data-bs-target"],Ho=t("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1),Ko=t("span",{class:"visually-hidden"},"Next",-1),Go=[Ho,Ko],Zo={__name:"Carousel",props:{id:{type:String,default:"carousel"},hasIndicators:{type:Boolean,default:!0},hasControls:{type:Boolean,default:!0},items:{type:Array,default:[]}},setup(e){return(s,o)=>(n(),i("div",{id:e.id,class:"carousel slide carousel-fade","data-bs-ride":"carousel"},[e.hasIndicators?(n(),i("div",Do,[(n(!0),i(R,null,U(e.items,(a,d)=>(n(),i("button",{type:"button","data-bs-target":"#"+e.id,"data-bs-slide-to":d,class:B(d===0?"active":""),"aria-current":d===0?"active":"","aria-label":a},null,10,zo))),256))])):k("",!0),t("div",No,[(n(!0),i(R,null,U(e.items,(a,d)=>(n(),i("div",{class:B(["carousel-item",d===0?"active":""])},[t("img",{class:"d-block w-100",src:a,alt:""},null,8,Fo)],2))),256))]),e.hasControls?(n(),i(R,{key:1},[t("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#"+e.id,"data-bs-slide":"prev"},Qo,8,qo),t("button",{class:"carousel-control-next",type:"button","data-bs-target":"#"+e.id,"data-bs-slide":"next"},Go,8,Xo)],64)):k("",!0)],8,jo))}},Yo={__name:"MenuModal",setup(e){return(s,o)=>(n(),L(z,{id:"menu",class_size:"modal-lg",header:!1},{body:S(()=>[x(Zo,{id:"carousel-fade",items:["/images/full_1.jpg","/images/full_2.jpg"]},null,8,["items"])]),_:1}))}},ea={data(){return{isSupported:!1,hasPermission:!1,isRecording:!1,isPaused:!1,chunks:[]}},methods:{async start(){if(!this.isRecording)try{this.$_stream=await this.getStream(),this.prepareRecorder(),this.$_mediaRecorder.start()}catch(e){this.$emit("error",e),console.error(e)}},stop(){this.isRecording&&(this.$_mediaRecorder.stop(),this.$_stream.getTracks().forEach(e=>e.stop()))},pause(){this.isRecording&&this.$_mediaRecorder.pause()},resume(){this.isPaused&&this.$_mediaRecorder.resume()},async getStream(){const e=await navigator.mediaDevices.getUserMedia(this.constraints);return this.$_stream=e,this.$emit("stream",e),e},prepareRecorder(){this.$_stream&&(this.$_mediaRecorder=new MediaRecorder(this.$_stream,{mimeType:this.mimeType}),this.$_mediaRecorder.ignoreMutedMedia=!0,this.$_mediaRecorder.addEventListener("start",()=>{this.isRecording=!0,this.isPaused=!1,this.$emit("start")}),this.$_mediaRecorder.addEventListener("resume",()=>{this.isRecording=!0,this.isPaused=!1,this.$emit("resume")}),this.$_mediaRecorder.addEventListener("pause",()=>{this.isPaused=!0,this.$emit("pause")}),this.$_mediaRecorder.addEventListener("dataavailable",e=>{e.data&&e.data.size>0&&this.chunks.push(e.data)},!0),this.$_mediaRecorder.addEventListener("stop",()=>{this.$emit("stop");const e=new Blob(this.chunks);e.size>0&&this.$emit("result",e),this.chunks=[],this.isPaused=!1,this.isRecording=!1},!0))}},mounted(){if(!navigator.mediaDevices&&!navigator.mediaDevices.getUserMedia){console.warn("Media Devices are not supported from your browser.");return}this.isSupported=!0}},ta=[ea],sa={mixins:ta,props:{mode:{type:String,default:"hold",validator:e=>["hold","press"].includes(e)}},methods:{stopRecording(){if(this.mode!=="press")return this.stop()},startRecording(){return this.isRecording&&this.mode==="press"?this.stop():this.start()}}};const oa=["audio/aac","audio/ogg","audio/wav","audio/webm"],aa={name:"VueRecordAudio",mixins:[sa],props:{mimeType:{type:String,default:"audio/webm",validator:e=>oa.includes(e)}},data(){return{constraints:{audio:!0}}}},na=t("span",null,null,-1),ra=[na];function la(e,s,o,a,d,u){return e.isSupported?(n(),i("div",{key:0,class:B(["vue-audio-recorder",{active:e.isRecording,paused:e.isPaused}]),onMousedown:s[0]||(s[0]=(...l)=>e.startRecording&&e.startRecording(...l)),onMouseleave:s[1]||(s[1]=(...l)=>e.stopRecording&&e.stopRecording(...l)),onMouseup:s[2]||(s[2]=(...l)=>e.stopRecording&&e.stopRecording(...l)),onTouchstart:s[3]||(s[3]=(...l)=>e.startRecording&&e.startRecording(...l)),onTouchend:s[4]||(s[4]=(...l)=>e.stopRecording&&e.stopRecording(...l)),onTouchcancel:s[5]||(s[5]=(...l)=>e.stopRecording&&e.stopRecording(...l))},ra,34)):k("",!0)}const da=Ke(aa,[["render",la]]),ia=t("h6",{class:"text-center"},[M("Запиши голосовое сообщение"),t("br"),t("strong",{class:"text-danger"},"Удерживай кнопку для записи!")],-1),ua={class:"d-flex justify-content-center mt-2"},ca={key:0,class:"row d-flex justify-content-center mt-2"},pa={class:"col-12"},ma={class:"recorded-audio"},ha={class:"audio-container"},ga=["src"],va=["onClick"],fa=t("i",{class:"fas fa-trash"},null,-1),_a=[fa],ba={__name:"AudioCallback",props:{modelValue:{type:Array,default:[],required:!0}},emits:["update:modelValue"],setup(e,{emit:s}){const o=e,a=V([]);q(a.value,l=>{s("update:modelValue",l)}),q(()=>o.modelValue,(l,g)=>{l.length===0&&a.value.length!==0&&(a.value=[],s("update:modelValue",a.value))});const d=l=>{a.value.push({src:window.URL.createObjectURL(l),data:l})},u=l=>{a.value.splice(l,1)};return(l,g)=>(n(),i("div",null,[ia,t("div",ua,[x(da,{mode:"hold",onResult:d})]),e.modelValue.length>0?(n(),i("div",ca,[t("div",pa,[t("div",ma,[(n(!0),i(R,null,U(e.modelValue,($,r)=>(n(),i("div",{key:r,class:"recorded-item"},[t("div",ha,[t("audio",{src:$.src,controls:""},null,8,ga)]),t("div",null,[t("a",{onClick:c=>u(r),class:"button is-dark"},_a,8,va)])]))),128))])])])):k("",!0)]))}};const ya={class:"card mb-3 obedy-callback-card"},ka=["onSubmit"],$a={class:"card-title"},wa={class:"form-group mb-3"},Ca={class:"form-group mb-3"},xa={class:"form-group mb-3"},Ea={key:0,class:"form-group mb-3"},Oa={class:"invalid-feedback"},Va={class:"form-group mb-3"},Ia={class:"invalid-feedback"},Ma={class:"form-group mb-3"},Ra=Xe('<div class="form-group"><button class="btn btn-danger w-100 p-3 text-uppercase font-weight-bold mr-1 mb-1 w-100"><i class="icon ion-md-mail"></i> Отправить </button></div><div class="form-group mb-2 d-flex justify-content-center"><a data-bs-toggle="modal" data-bs-target="#delivery" class="btn btn-link mr-1 mb-1" title="Подробности о доставке" aria-label="Подробности о доставке"><i class="icon ion-ios-filing"></i> Подробности о доставке! </a></div>',2),Pa={__name:"CallbackForm",props:{selectedType:{type:Number,default:0}},setup(e){const s=e;se(()=>{l.typeValue=s.selectedType,$.value=o[s.selectedType]});const o=["Оформление заказа","Проблемы с заказом","Стать партнером","Стать доставщиком","Реклама и продвижение","Другие вопросы"],a=["Оформить заказ голосом","Опиши свои проблемы","Давай совместно работать","Давай совместно работать","Давай совместно работать","Что-то другое..."],d={name:"",phone:"",address:"",recordings:[],message:"",typeValue:0},u=V([]),l=W({...d}),g=()=>{let r=new FormData;r.append("phone",l.phone),r.append("name",l.name),r.append("address",l.address),r.append("message",l.message),r.append("typeValue",l.typeValue);for(let c=0;c<l.recordings.length;c++){let w=l.recordings[c].data;r.append("files["+c+"]",w)}axios.post(route("callback"),r,{headers:{"Content-Type":"multipart/form-data"}}).then(function(){A("Ваше сообщение успешно отправлено!"),Object.assign(l,d),u.value=[]}).catch(async c=>{c.response.status===422&&(u.value=c.response.data.errors)})},$=V("");return q($,(r,c)=>{l.typeValue=o.indexOf(r)}),(r,c)=>{const w=re("v-select");return n(),i("div",ya,[t("form",{onSubmit:ye(g,["prevent"]),class:"card-body"},[t("h5",$a,C(a[l.typeValue]),1),t("div",wa,[x(D,{errors:u.value.hasOwnProperty("name")?u.value.name:[],placeholder:"Ваше Ф.И.О",modelValue:l.name,"onUpdate:modelValue":c[0]||(c[0]=v=>l.name=v)},null,8,["errors","modelValue"])]),t("div",Ca,[x(D,{errors:u.value.hasOwnProperty("phone")?u.value.phone:[],placeholder:"Номер телефона",modelValue:l.phone,"onUpdate:modelValue":c[1]||(c[1]=v=>l.phone=v),mask:"+7 (###) ###-##-##"},null,8,["errors","modelValue"])]),t("div",xa,[x(w,{modelValue:$.value,"onUpdate:modelValue":c[2]||(c[2]=v=>$.value=v),options:o,clearable:!1,class:"form-control w-100 mt-2 mb-0 ps-3 pe-4 py-3"},null,8,["modelValue"])]),l.typeValue===0?(n(),i("div",Ea,[x(we,{formAddress:l.address,"onUpdate:formAddress":c[3]||(c[3]=v=>l.address=v),errors:u.value.hasOwnProperty("address")?u.value.address:[]},null,8,["formAddress","errors"]),"address"in u.value&&u.value.address.length>0?(n(!0),i(R,{key:0},U(u.value.address,v=>(n(),i("div",Oa,C(v),1))),256)):k("",!0)])):k("",!0),t("div",Va,[J(t("textarea",{name:"message","onUpdate:modelValue":c[4]||(c[4]=v=>l.message=v),class:B(["form-control",[u.value.hasOwnProperty("message")&&u.value.message.length>0?"is-invalid":"",(!u.value.hasOwnProperty("message")||u.value.message.length===0)&&l.message.length>0?"is-valid":""]]),placeholder:"Текст сообщения"},`
                    `,2),[[be,l.message]]),u.value.hasOwnProperty("message")&&u.value.message.length>0?(n(!0),i(R,{key:0},U(u.value.message,v=>(n(),i("div",Ia,C(v),1))),256)):k("",!0)]),t("div",Ma,[x(ba,{modelValue:l.recordings,"onUpdate:modelValue":c[5]||(c[5]=v=>l.recordings=v)},null,8,["modelValue"])]),Ra],40,ka)])}}},Sa={class:"row"},Aa={class:"col-12"},Ta={__name:"CallbackModal",setup(e){return(s,o)=>(n(),L(z,{id:"callback",title:"Обратная связь"},{body:S(()=>[t("div",Sa,[t("div",Aa,[x(Pa,{"selected-type":1})])])]),_:1}))}},Ua={key:0,class:"text-success mt-2"},La={key:1,class:"text-danger mt-2"},Ba=t("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Отмена",-1),ja={__name:"CheckOrderModal",setup(e){const s=V([]),o=V(""),a=V(""),d=async()=>{await axios.post(route("check.order"),{number:o.value}).then(u=>{a.value=u.data.status,s.value=[],o.value=""}).catch(async u=>{u.response.status===422&&(s.value=u.response.data.errors,a.value="")})};return(u,l)=>(n(),L(z,{id:"checkOrder",title:"Узнайте статус заказа по номеру",footer:!1},{body:S(()=>[a.value===0?(n(),i("p",Ua,"Ваш заказ принят")):k("",!0),a.value===1?(n(),i("p",La,"Ваш заказ отклонен")):k("",!0),x(D,{errors:s.value.hasOwnProperty("number")?s.value.number:[],placeholder:"Введите номер заказа",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=g=>o.value=g)},null,8,["errors","modelValue"])]),footer:S(()=>[t("div",{class:"modal-footer"},[Ba,t("button",{type:"button",class:"btn btn-success",onClick:d},"Подтвердить")])]),_:1}))}},Da={class:"wrapper obedygo"},za={class:"container-fluid d-flex align-items-center flex-wrap",style:{"min-height":"100vh",padding:"70px 10px 70px 10px"}},Na=t("h6",{class:"col-8 px-3"},[M("Полное меню на неделю можно глянуть "),t("a",{href:"#",class:"text-danger font-weight-bold","data-bs-toggle":"modal","data-bs-target":"#menu"},"ТУТ")],-1),Fa={key:0,class:"mt-2"},qa={key:3,class:"w-100"},Ja={key:4,class:"w-100"},Wa={key:7,class:"navbar navbar-menu d-sm-flex d-none"},Qa=t("i",{class:"fa-solid fa-burger fa-2xl","data-bs-toggle":"offcanvas","data-bs-target":"#obedyNavbarMenu","aria-controls":"obedyNavbarMenu","aria-label":"Toggle navigation",role:"button"},null,-1),Xa={class:"offcanvas cart-container",tabindex:"-1",id:"obedyNavbarMenu"},Ha=t("div",{class:"cart-icon cart-icon-close"},[t("i",{class:"fa-solid fa-xmark fa-2xl","data-bs-dismiss":"offcanvas"})],-1),Ka={id:"cartMenu",class:"cart-menu"},Ga={key:0,class:"cart-icon login","data-bs-toggle":"modal","data-bs-target":"#login"},Za={key:0},Ya=t("div",{class:"cart-icon about","data-bs-toggle":"modal","data-bs-target":"#about"},"О нас",-1),en=t("div",{class:"cart-icon callback","data-bs-toggle":"modal","data-bs-target":"#callback"},"Напиши нам",-1),tn=t("div",{class:"cart-icon delivery","data-bs-toggle":"modal","data-bs-target":"#delivery"},"Доставка",-1),sn=t("div",{class:"cart-icon checkOrder","data-bs-toggle":"modal","data-bs-target":"#checkOrder"},"Узнать статус",-1),on=t("div",{class:"cart-icon icon-3","data-bs-toggle":"modal","data-bs-target":"#checkOrder"},"Узнать статус",-1),an={key:0,class:"badge badge-danger"},nn={class:"bottom_menu"},rn=["onClick"],ln=t("li",{class:"hr"},null,-1),dn={key:0,"data-bs-toggle":"modal","data-bs-target":"#login"},un={key:0,class:"badge badge-danger"},cn=t("li",{"data-bs-toggle":"modal","data-bs-target":"#about"},"О нас",-1),pn=t("li",{"data-bs-toggle":"modal","data-bs-target":"#callback"},"Напиши нам",-1),mn=t("li",{"data-bs-toggle":"modal","data-bs-target":"#delivery"},"Доставка",-1),hn=t("li",{"data-bs-toggle":"modal","data-bs-target":"#checkOrder"},"Узнать статус",-1),fn={__name:"BaseLayout",setup(e){const s=me(),o=Z(),{foodParts:a,part:d}=T(s),{items:u,getTotalCount:l,hasOtherUserCart:g}=T(o),{lottery_id:$,lotteries:r}=T(le()),c=H(),{user:w}=T(c),v=V(!1),O=V(!1),y=V(!1);oe("ready_to_order",y),oe("is_cart_open",O),q(d,()=>{d.value!==null&&s.selectPart()}),se(()=>{[...document.querySelectorAll('[data-bs-toggle="popover"]')].forEach(p=>X.getOrCreateInstance(p)),E(),window.addEventListener("keyup",I),console.log("base mount"),c.getUser(),document.getElementById("obedyNavbarMenu").addEventListener("hidden.bs.offcanvas",()=>{setTimeout(()=>document.getElementById("cartMenu").scrollTo(0,0),350)}),w.value.isAuthorized&&Echo.private("chat."+w.value.id).listen("MessageSent",p=>{console.log(p)})}),He(()=>{window.removeEventListener("keyup",I),document.getElementById("obedyNavbarMenu").removeEventListener("hidden.bs.offcanvas",()=>{setTimeout(()=>document.getElementById("cartMenu").scrollTo(0,0),350)})});const E=()=>{route().current("products")?d.value=a.value.find(p=>p.slug===route().params.foodPart).partId:d.value=null},I=p=>{switch(p.keyCode){case 27:d.value=0;break;case 37:s.changePosition(!1);break;case 39:s.changePosition();break}},h=async()=>{for(const p of u.value)[...document.getElementsByName("btn-popover-"+p.product.id)].forEach(m=>X.getOrCreateInstance(m).dispose()),await ne(),[...document.getElementsByName("btn-popover-"+p.product.id)].forEach(m=>X.getOrCreateInstance(m))};return q(g,p=>{p||j.getOrCreateInstance(document.getElementById("changeUserCart")).hide()}),(p,m)=>{const _=re("notifications");return n(),i("div",Da,[x(_,{position:"top left",group:"info"}),t("div",za,[f(d)===0?Q(p.$slots,"content",{key:0}):(n(),L(st,{key:1})),f(d)!==null?(n(),i("div",{key:2,class:B(["w-100 d-flex flex-column align-items-center text-uppercase text-white text-center mt-4",f(d)===0?"mb-5 mt-5":""])},[Na,(n(!0),i(R,null,U(f(a),b=>(n(),i(R,null,[f(d)===b.partId?(n(),i("h1",Fa,C(b.title),1)):k("",!0)],64))),256))],2)):k("",!0),f(d)===0?(n(),i("div",qa)):k("",!0),f(d)===0?(n(),i("div",Ja)):k("",!0),f(d)!==0?Q(p.$slots,"content",{key:5}):k("",!0),O.value?(n(),L(Xs,{key:6})):k("",!0),O.value?k("",!0):(n(),i("nav",Wa,[Qa,t("div",Xa,[Ha,t("div",Ka,[f(w).isAuthorized?(n(),i("div",{key:1,class:"cart-icon login",onClick:m[0]||(m[0]=b=>f(c).logout())},"Выйти")):(n(),i("div",Ga,"Войти")),t("div",{class:"cart-icon cart",onClick:m[1]||(m[1]=b=>{O.value=!0,h()})},[M("Корзина"),f(l)>0?(n(),i("span",Za,C(f(l)),1)):k("",!0)]),Ya,en,tn,f(r).length>0?(n(),i("div",{key:2,class:"cart-icon lottery","data-bs-toggle":"modal","data-bs-target":"#lottery",onClick:m[2]||(m[2]=b=>$.value=null)},"Акции")):k("",!0),sn,f(w).isAuthorized?(n(),i("div",{key:3,class:"cart-icon icon-1",onClick:m[3]||(m[3]=b=>f(G).get(p.route("chats")))},"Чаты")):k("",!0),t("div",{class:"cart-icon icon-2",onClick:m[4]||(m[4]=b=>f(G).get(p.route("specialists")))},"Специалисты"),on])])])),t("ul",{class:"footer-container d-sm-none",onMouseleave:m[10]||(m[10]=b=>v.value=!1)},[v.value?(n(),i(R,{key:1},[t("li",{class:"p-2 text-center",onClick:m[6]||(m[6]=b=>v.value=!1)},"Скрыть меню"),t("ul",nn,[(n(!0),i(R,null,U(f(a),b=>(n(),i("li",{onClick:N=>d.value=b.partId},C(b.title),9,rn))),256)),ln,f(w).isAuthorized?(n(),i("li",{key:1,onClick:m[7]||(m[7]=b=>f(c).logout())},"Выйти")):(n(),i("li",dn," Войти ")),t("li",{onClick:m[8]||(m[8]=b=>O.value=!0)},[M(" Корзина "),p.countInCart>0?(n(),i("span",un,C(p.countInCart),1)):k("",!0)]),cn,pn,mn,f(r).length>0?(n(),i("li",{key:2,"data-bs-toggle":"modal","data-bs-target":"#lottery",onClick:m[9]||(m[9]=b=>$.value=null)},"Акции ")):k("",!0),hn])],64)):(n(),i("li",{key:0,class:"p-2 text-center",onClick:m[5]||(m[5]=b=>v.value=!0)},[M("Показать меню "),f(l)>0?(n(),i("span",an,C(f(l)),1)):k("",!0)]))],32),x(so),x(ao),x(Ta),x(Bo),x(Yo),x(Ys),x(ja),f(w).isAuthorized&&f(g)?(n(),L(Ce,{key:8})):k("",!0),t("div",{class:"to-left",onClick:m[11]||(m[11]=b=>f(s).changePosition(!1))}),t("div",{class:"to-right",onClick:m[12]||(m[12]=b=>f(s).changePosition())})])])}}};export{z as _,fn as a,es as b,Pa as c,A as s,me as u};
