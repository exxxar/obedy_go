import{j as h,e as j,A as E,o as a,d as l,l as b,a as n,b as v,p as c,k as N,n as i,t as o,q as p,z as g,P as M}from"./app-88729ecd.js";const O={key:0,class:"position-absolute top-0 end-0 d-flex gap-1 mt-1 me-1"},S={key:0,class:"d-flex justify-content-center gap-1 fw-bold"},$=n("p",{class:"card-text"},"Специалист:",-1),z={class:"d-flex justify-content-center gap-1 fw-bold"},D=n("p",{class:"card-text"},"Цена:",-1),P={key:1},V={__name:"MenuCard",props:{inModal:{type:Boolean,default:!1},specialId:{type:Number,default:null},specialistId:{type:Number,default:null},menu:{type:Object,default:{}}},emits:["update:specialId","update:specialistId"],setup(e,{emit:d}){const y=e,u=h(()=>route().current("profile")),x=async s=>{d("update:specialId",s),await p(()=>{let t=document.getElementById("specialModal");g.getOrCreateInstance(t).show(),t.addEventListener("hidden.bs.modal",m=>{d("update:specialId",null)},{once:!0})})},k=async s=>{await r(),M.get(route("menu.edit",s))},r=async()=>{await p(()=>{y.inModal&&g.getOrCreateInstance(document.getElementById("specialModal")).hide()})},w=async s=>{d("update:specialistId",s),await p(()=>{let t=document.getElementById("specialistModal");r(),g.getOrCreateInstance(t).show(),t.addEventListener("hidden.bs.modal",m=>{d("update:specialistId",null)},{once:!0})})},I=()=>{r()},C=()=>{r(),M.get(route("special.menu",y.menu.slug))};return(s,t)=>{const m=j("font-awesome-icon"),B=E("lazy");return a(),l("div",{class:i(["card text-center border-0",[b(u)||e.inModal?"":"p-5px bg-transparent text-white"]])},[b(u)?(a(),l("div",O,[n("button",{class:"btn btn-success",onClick:t[0]||(t[0]=f=>k(e.menu.id))},[v(m,{icon:"fa-solid fa-pen"})]),n("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=()=>{})},[v(m,{icon:"fa-solid fa-trash"})])])):c("",!0),N(n("img",{class:"card-img-top fixed-height-300px object-fit-cover",alt:"...",onClick:t[2]||(t[2]=f=>x(e.menu.id))},null,512),[[B,e.menu.image]]),n("div",{class:i(["card-body d-flex flex-column justify-content-between gap-3",e.inModal?"":"p-0"])},[e.inModal?(a(),l("div",{key:0,class:"d-flex flex-column gap-2",onClick:t[4]||(t[4]=f=>x(e.menu.id))},[n("h3",{class:i(["card-title m-0",e.inModal?"":"text-truncate"])},o(e.menu.title),3),b(u)?c("",!0):(a(),l("div",S,[$,n("button",{class:i(["btn btn-link p-0",e.inModal?"":"text-truncate"]),onClick:t[3]||(t[3]=f=>w(e.menu.specialist.id))},o(e.menu.specialist.name),3)])),n("div",z,[D,n("p",{class:i(["card-text",e.inModal?"":"text-truncate"])},o(e.menu.price)+" ₽",3)]),e.inModal?(a(),l("p",P,o(e.menu.description),1)):c("",!0)])):c("",!0),b(u)?c("",!0):(a(),l("button",{key:1,class:i(["btn w-100 text-uppercase mt-2 p-3",[e.menu.isUserMenu?"btn-success custom-btn-color-success":"btn-danger custom-btn-color-danger"]]),onClick:t[5]||(t[5]=f=>e.menu.isUserMenu?C():I())},o(e.menu.isUserMenu?"Подробнее":"Купить"),3))],2)],2)}}};export{V as _};
